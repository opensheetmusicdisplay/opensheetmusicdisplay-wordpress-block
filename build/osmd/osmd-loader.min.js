!function(e){var s={};function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,s,t){o.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,s){if(1&s&&(e=o(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var i in e)o.d(t,i,function(s){return e[s]}.bind(null,i));return t},o.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(s,"a",s),s},o.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},o.p="",o(o.s=3)}([function(e,s){e.exports=window["opensheetmusicdisplay-wordpress-block"]},function(e,s){e.exports=opensheetmusicdisplay},,function(e,s,o){"use strict";o.r(s);var t=o(1),i=o(0);function n(e){let s=void 0;for(const o of e.getElementsByTagName("div"))if(o.id.startsWith("osmdCanvas")){s=o;break}return s}function l(e,s,o){const t=n(e),i=function(e){let s=e.getElementsByClassName("phonicscore-opensheetmusicdisplay__message-block")[0];if(!s){s=document.createElement("div"),s.classList.add("phonicscore-opensheetmusicdisplay__message-block");const o=document.createElement("h4");s.appendChild(o);const t=document.createElement("p");s.appendChild(t),e.appendChild(s)}return s}(e);i.getElementsByTagName("h4")[0].innerText=s;i.getElementsByTagName("p")[0].innerText=o,t&&t.remove()}const r=document.getElementsByClassName("phonicscore-opensheetmusicdisplay__placeholder");for(let e=0;e<r.length;e++){const s=r[e],o=s.getElementsByClassName("phonicscore-opensheetmusicdisplay__loading-spinner")[0];o.classList.remove("hide");const c=s.getElementsByClassName("phonicscore-opensheetmusicdisplay__render-block")[0];if(!c){o.classList.add("hide");continue}const a=s.getElementsByClassName("attributesAsJson")[0];if(!a||!a.innerText)continue;let p=void 0;try{p=JSON.parse(a.innerText)}catch(e){o.classList.add("hide"),l(c,"Invalid attributes provided.",e);continue}if(!p){o.classList.add("hide");continue}const d=p.musicXmlUrl;if(!d||d.length<1){o.classList.add("hide");continue}delete p.musicXmlUrl;let u=1;p.zoom&&(u=parseFloat(p.zoom),NaN!==u&&void 0!==u||(u=1),delete p.zoom);let h=0;p.aspectRatio&&(h=parseFloat(p.aspectRatio),NaN!==h&&void 0!==h||(h=0),delete p.aspectRatio);const m=()=>{let e="auto";h>0&&s.offsetWidth&&(e=(s.offsetWidth/h).toString()+"px"),s.style.height=e};m(),i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_options",void 0,p,c);const y=new t.OpenSheetMusicDisplay(c,p);i.OpenSheetMusicDisplayGlobalHooks.didAction("phonicscore_opensheetmusicdisplay_setup"),i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_setup",y,p,c);let f=0,_=!1;const b=()=>{f++,i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_load",y,p,c),y.load(d).then(()=>{i.OpenSheetMusicDisplayGlobalHooks.didAction("phonicscore_opensheetmusicdisplay_load"),i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_post-load",y,p,c),y.Zoom=u;try{i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_render",y,p,c),y.render()}catch(e){console.warn(e),l(c,"Error loading sheet music file: "+d,e)}finally{i.OpenSheetMusicDisplayGlobalHooks.didAction("phonicscore_opensheetmusicdisplay_render"),o.classList.add("hide"),f=0}},(function(e){i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_post-load",y,p,c,e),i.OpenSheetMusicDisplayGlobalHooks.didAction("phonicscore_opensheetmusicdisplay_load"),console.warn(e),f<5?(console.warn("Error loading. Attempting reload..."),b()):(l(c,"Error loading sheet music file: "+d,e),o.classList.add("hide"),f=0,_=!0)}))};b();let g=c.offsetWidth,v=void 0;const O=()=>{if(_)return;const e=g;if(g=c.offsetWidth,g===e)return;o.classList.remove("hide");const s=n(c);s&&s.remove(),clearTimeout(v),v=setTimeout(()=>{m(),y.Zoom=u;try{i.OpenSheetMusicDisplayGlobalHooks.applyFilters("phonicscore_opensheetmusicdisplay_render",y,p,c),y.render()}catch(e){console.warn(e),l(c,"Error loading sheet music file: "+d,e)}finally{i.OpenSheetMusicDisplayGlobalHooks.didAction("phonicscore_opensheetmusicdisplay_render"),o.classList.add("hide")}},500)};if(ResizeObserver){new ResizeObserver(e=>{O()}).observe(c)}else console.info("Browser doesn't support ResizeObserver, defaulting to window resize"),window.addEventListener("resize",e=>{O()})}}]);